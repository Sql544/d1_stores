"use strict";require(["../js/config"],function(){require(["jquery","common"],function(s){function i(){s("#Confirm_pwd_notice_img").css({display:"inline-block"}).find("img").attr("src","../images/register/no.gif"),s("#Confirm_pwd_notice_word").text("两次密码不一致").css({color:"red"})}function o(){s(".sexinput").find("input").click(function(){console.log(s(this).prop("checked")),1==s(this).prop("checked")?(console.log("选中"),s(this).prop("checked",!0),s(this).siblings().prop("checked",!1),s("#sex_notice").text(""),s("#sex_notice_sucess").css({display:"inline-block"}),s(this).attr("ispass",!0),s(this).siblings().attr("ispass",!0)):(console.log("取消选中"),s(this).prop("checked",!1),s("#sex_notice").text("请选择性别").css({color:"red"}),s("#sex_notice_sucess").css({display:"none"}),s(this).attr("ispass",!1))})}function e(s,i,o,e){s.focus(function(){o&&o.css({display:"none"}),i.text(e).css({display:"block",color:"#999999"})})}function t(i,o,e,t,n){i.blur(function(){n.test(s(this).val())?(o&&o.css({display:"inline-block"}).find("img").attr("src","../images/register/suc.jpg"),e.text(""),i.attr("ispass","true")):(o&&o.css({display:"inline-block"}).find("img").attr("src","../images/register/no.gif"),e.text(t).css({color:"red"}),i.attr("ispass","false"))})}var n={mobile_phone:/^(\d{11})|(\d{8})$/,mobile_phone_check:/^\d{4}$/,password:/^.{6,14}$/,Confirm_password:/^.{6,14}$/};(s=jQuery)("#head_insert").load("login_head.html"),s("#footer_insert").load("footer.html"),s(function(){s("input").not("#getCheckCode").not(":last").each(function(){s(this).val(""),s(this).prop("checked",!1)}),e(s("#mobile_phone"),s("#mobile_notice"),s("#tel_notice"),"请输入正确的手机号码。便于您接受订单消息，找回密码等。"),t(s("#mobile_phone"),s("#tel_notice"),s("#mobile_notice"),"手机号码不能为空，请输入",n.mobile_phone),e(s("#mobile_phone_check"),s("#code_notice"),"","请输入手机验证码"),t(s("#mobile_phone_check"),"",s("#code_notice"),"验证码不能为空",n.mobile_phone_check),e(s("#password"),s("#pwd_notice_word"),s("#pwd_notice_img"),"密码长度6-14位，支持数字、符号、字母，字母区分大小写"),t(s("#password"),s("#pwd_notice_img"),s("#pwd_notice_word"),"密码长度必须6-14位，请输入",n.password),e(s("#Confirm_password"),s("#Confirm_pwd_notice_word"),s("#Confirm_pwd_notice_img"),"密码长度6-14位，支持数字、符号、字母，字母区分大小写"),s("#Confirm_password").blur(function(){console.log(s("#Confirm_password").val(),s("#password").val(),n.Confirm_password.test(s(this).val())),n.Confirm_password.test(s(this).val())&&s("#Confirm_password").val()==s("#password").val()?(s("#Confirm_pwd_notice_img").css({display:"inline-block"}).find("img").attr("src","../images/register/suc.jpg"),s("#Confirm_pwd_notice_word").text(""),s(this).attr("ispass",!0)):(s("#Confirm_pwd_notice_img").css({display:"inline-block"}),n.Confirm_password.test(s(this).val())?i():(s("#Confirm_pwd_notice_img").css({display:"inline-block"}).find("img").attr("src","../images/register/no.gif"),s("#Confirm_pwd_notice_word").text("密码长度必须6-14位，请输入").css({color:"red"})),s(this).attr("ispass",!1))}),s("#check_code").blur(function(){"A53T"==s(this).val()?s(this).attr("ispass",!0):s(this).attr("ispass",!1)}),o(),s("#register_submit").click(function(){var o=!0;if(s("input").not("#getCheckCode").not(":last").each(function(){s(this).attr("ispass")||(o=!1)}),s("#password").val()!=s("#Confirm_password").val()&&(o=!1,i()),console.log(o),o){var e={username:s("#mobile_phone").val(),pwd:s("#password").val()},t=[];t=JSON.parse(Cookie.getCookie("message")),t=Array.from(t),console.log(t);var n=1;if(null==t)t.push(e);else{for(var r in t)if(t[r].username==e.username){n=0;break}1==n&&t.push(e)}Cookie.insertCookie("message",JSON.stringify(t),432e3,"/"),window.location.href="http://127.0.0.1:8020/d1/html/login.html"}})})})});