"use strict";require(["../js/config"],function(){require(["jquery","test","common","goods"],function(e){(e=jQuery)("#head_insert").load("head.html"),e("#footer_insert").load("footer.html"),e(function(){jsonp("http://localhost:8020/d1/Jsonp/Jsonp.js");jsonp_goods("http://localhost:8020/d1/Jsonp/goodsJsonp.js");setTimeout(function(){e(".shop_list li").each(function(){e(this).index()>=20&&e(this).css({display:"none"})}),e(".goods_num_btn a").click(function(){0==e(this).index()?e(this).get(0).parentNode.previousElementSibling.children[0].value++:2==e(this).index()&&e(this).get(0).parentNode.previousElementSibling.children[0].value>1&&e(this).get(0).parentNode.previousElementSibling.children[0].value--});var i=document.createElement("a");e(".pagefooter").append(i),i.innerText="首页",i.href="#",i.style.display="none";var n=document.createElement("a");e(".pagefooter").append(n),n.innerText="上一页",n.href="#",n.style.display="none";var t=document.createElement("a");e(".pagefooter").append(t),t.innerText=1,t.className="curr",t.href="#";for(var l=Math.ceil(e(".shop_list li").length/20),s=1;s<l;s++){var o=document.createElement("a");e(".pagefooter").append(o),o.innerText=s+1,o.href="#"}var a=document.createElement("a");e(".pagefooter").append(a),a.innerText="下一页",a.href="#";var c=document.createElement("a");e(".pagefooter").append(c),c.innerText="尾页",c.href="#",e(".pagefooter a").click(function(){1==e(this).text()?(n.style.display="none",i.style.display="none",a.style.display="inline-block",c.style.display="inline-block"):e(this).text()==l?(n.style.display="inline-block",i.style.display="inline-block",a.style.display="none",c.style.display="none"):(n.style.display="inline-block",i.style.display="inline-block",a.style.display="inline-block",c.style.display="inline-block");var t=e(this).text();$cilick=e(this),"首页"==t?(t=1,$cilick=e(".pagefooter a").eq(2)):"尾页"==t?(t=1,$cilick=e(".pagefooter a").eq(1+l)):"上一页"==t?(t=e(".curr").text()-1,$cilick=e(".pagefooter a").eq(e(".curr").index()-2)):"下一页"==t&&(t=parseInt(e(".curr").text())+1,$cilick=e(".pagefooter a").eq(e(".curr").index())),1==$cilick.text()?(n.style.display="none",i.style.display="none",a.style.display="inline-block",c.style.display="inline-block"):$cilick.text()==l&&(n.style.display="inline-block",i.style.display="inline-block",a.style.display="none",c.style.display="none"),parseInt(t)&&($cilick.addClass("curr").siblings().removeClass("curr"),e(".shop_list li").each(function(){console.log(e(this).index(),20*t),e(this).index()>=20*t||e(this).index()<20*(t-1)?e(this).css({display:"none"}):e(this).css({display:"block"})}))})},300)})})});