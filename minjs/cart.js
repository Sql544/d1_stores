"use strict";function goods_num(){$(".cut").click(function(){var e=Cookie.getCookie("goods");if(e=JSON.parse(e),e=Array.from(e),$input_box=$(this).parent().parent().find(".buy_num_input"),$id=$(this).parent().parent().find(".other_message span").eq(1).text(),$price=$(this).parent().parent().find(".getprice").text(),$smalltotal=$(this).parent().parent().find(".small_total"),$input_box.val()>1){$input_box.val($input_box.val()-1),$smalltotal.text($input_box.val()*$price);for(var t=0;t<e.length;t++)e[t].id==$id&&(e[t].num=$input_box.val(),e[t].total=$smalltotal.text(),Cookie.insertCookie("goods",JSON.stringify(e),432e3));getallnum(),getallmoney()}}),$(".add").click(function(){var e=Cookie.getCookie("goods");e=JSON.parse(e),e=Array.from(e),$input_box=$(this).parent().parent().find(".buy_num_input"),$id=$(this).parent().parent().find(".other_message span").eq(1).text(),$price=$(this).parent().parent().find(".getprice").text(),$smalltotal=$(this).parent().parent().find(".small_total"),$input_box.val(parseInt($input_box.val())+1),$smalltotal.text($input_box.val()*$price);for(var t=0;t<e.length;t++)e[t].id==$id&&(e[t].num=$input_box.val(),e[t].total=$smalltotal.text(),Cookie.insertCookie("goods",JSON.stringify(e),432e3));getallnum(),getallmoney()})}function delete_oneline(){$(".delete").click(function(){var e=Cookie.getCookie("goods");e=JSON.parse(e),e=Array.from(e),$id=$(this).parent().parent().find(".other_message span").eq(1).text(),$(this).parent().parent().remove();for(var t=0;t<e.length;t++)if(e[t].id==$id){e.splice(t,1),Cookie.insertCookie("goods",JSON.stringify(e),432e3);break}getallnum(),getallmoney()})}function deleteall(){$(".deleteall").click(function(){$(".shopLists tr").not(":first").remove(),Cookie.insertCookie("goods","",0),$(".tailed").find("font").eq(0).text(0),$(".tailed").find("span").text(0)})}function getallnum(){var e=0;$(".buy_num_input").each(function(){e+=parseInt($(this).val())}),$(".tailed").find("font").eq(0).text(e)}function getallmoney(){var e=0;$(".small_total").each(function(){e+=parseInt($(this).text())}),$(".tailed").find("span").text(e)}require(["../js/config"],function(){require(["jquery","common"],function(e){(e=jQuery)(function(){var t=Cookie.getCookie("goods");if(""!=t){t=JSON.parse(t),t=Array.from(t);for(var n=0;n<t.length;n++){var a=document.createElement("tr");a.style="background: #fffddd;";var i=document.createElement("td");i.style="background:#fffddd;",i.className="cart_1",i.height=100;var l=document.createElement("a");l.href="#";var o=document.createElement("img");o.src=t[n].src,l.appendChild(o),i.appendChild(l);var r=document.createElement("td");r.className="other_message",r.style="text-align: left";var d=document.createElement("span");d.innerText=t[n].title;var p=document.createElement("br"),c=document.createElement("span");c.innerText=t[n].id;var m=document.createElement("br"),s=document.createElement("a");s.innerText="删除",s.className="delete";var u=document.createElement("span");u.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;";var f=document.createElement("a");f.innerText="加入收藏",r.appendChild(d),r.appendChild(p),r.appendChild(c),r.appendChild(m),r.appendChild(s),r.appendChild(u),r.appendChild(f),td3=document.createElement("td"),td3.innerText="无";var g=document.createElement("td"),h=document.createElement("span");h.innerText=t[n].vipprice,g.appendChild(h);var $=document.createElement("td"),v=document.createElement("span");v.innerText=t[n].getprice,v.className="getprice",$.appendChild(v);var C=document.createElement("td"),x=document.createElement("a");x.className="cut",x.style="float: left;";var _=document.createElement("img");_.src="http://images.d1.com.cn/images2012/New/flow/j_a.gif",x.appendChild(_);var b=document.createElement("input");b.type="text",b.className="buy_num_input",b.value=t[n].num;var y=document.createElement("a");y.className="add",y.style="float: left;";var E=document.createElement("img");E.src="http://images.d1.com.cn/images2012/New/flow/a_j.gif",y.appendChild(E),C.appendChild(x),C.appendChild(b),C.appendChild(y);var k=document.createElement("td"),N=document.createElement("font");N.color="#FF0000",N.innerText=t[n].total,N.className="small_total",k.appendChild(N),a.appendChild(i),a.appendChild(r),a.appendChild(td3),a.appendChild(g),a.appendChild($),a.appendChild(C),a.appendChild(k),e(".shopLists tbody").append(a)}getallnum(),getallmoney(),goods_num(),delete_oneline(),deleteall()}})})});